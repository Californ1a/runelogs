{% include '/common/header.twig' %}
    <main>

        <header class='search'>
            <form action="/{{ player }}" method="post">
                <input type="text" name="search" placeholder="Filter on..." {{ (search is defined) ? 'value=' ~ search : '' }} />
                <input type="submit" value="" />
            </form>
        </header>
        
        {% if search is defined %}

            {% if results is not empty %}

                <ul class="results">
                    {% for result in results %}
                        <li class="log-item">
                            <div class="log-header">
                                <h2 class="log-title">{{ result.lg_title }}</h2>
                                <span class="log-timestamp">{{ result.lg_ts|date }}</span>
                            </div>
                            <p class="log-details">{{ result.lg_details }}</p>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <section class='text'>
                    <p>No results</p>
                </section>
            {% endif %}

        {% else %}

            {% if logs is defined and logs is not empty %}
                <ul class="logs">
                    {% for log in logs %}
                        <li class="log-item">
                            <div class="log-header">
                                <h2 class="log-title">{{ log.lg_title }}</h2>
                                <span class="log-timestamp">{{ log.lg_ts|date }}</span>
                            </div>
                            <p class="log-details">{{ log.lg_details }}</p>
                        </li>
                    {% endfor %}
                </ul>
                <span class="loading-container"></span>
            {% else %}
                <section class='text'>
                    <p>{{ message }}</p>
                </section>
            {% endif %}

        {% endif %}

    </main>
{% include '/common/footer.twig' %}
